<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>오키나와 가족 여행 커맨드센터</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Noto Sans KR', sans-serif; 
            background-color: #F8FAFC; 
            color: #334155; 
            -webkit-tap-highlight-color: transparent; 
        }
        
        /* 탭 전환 애니메이션 */
        .tab-content {
            display: none;
            animation: fadeIn 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* 타임라인 스타일 */
        .timeline-line {
            position: absolute;
            left: 24px;
            top: 24px;
            bottom: -24px;
            width: 2px;
            background-color: #E2E8F0;
            z-index: 0;
        }
        .timeline-item:last-child .timeline-line {
            display: none;
        }
        
        /* 스크롤바 숨김 유틸리티 */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* 터치 반응성 향상 */
        button:active, .clickable-card:active, a.nav-btn:active, a.app-link:active {
            transform: scale(0.98);
            background-color: #F1F5F9;
        }
        
        .mapcode-btn {
            background-color: #EFF6FF;
            color: #2563EB;
            font-family: monospace;
            letter-spacing: -0.5px;
        }
        .mapcode-btn:active {
            background-color: #DBEAFE;
        }

        /* 네비게이션 활성 상태 스타일 */
        .nav-btn.active {
            color: #EA580C; 
            border-bottom-color: #EA580C;
            background-color: rgba(255, 255, 255, 0.8);
        }
        
        /* a태그 기본 스타일 제거 (네비게이션용) */
        a.nav-btn {
            text-decoration: none;
        }

        /* Top 버튼 스타일 */
        #top-btn {
            position: fixed;
            bottom: 80px; /* 네비게이션 바 위 */
            right: 20px;
            background-color: rgba(255, 255, 255, 0.9);
            border: 1px solid #E2E8F0;
            border-radius: 50%;
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            z-index: 40;
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
        }
        #top-btn.visible {
            opacity: 1;
            pointer-events: auto;
        }
    </style>
</head>
<body class="antialiased min-h-screen flex flex-col pb-safe">

    <!-- 헤더 섹션 -->
    <header class="bg-slate-900 text-white pt-8 pb-6 px-5 relative overflow-hidden shadow-xl z-20">
        <div class="max-w-4xl mx-auto relative z-10">
            <div class="flex justify-between items-start mb-6">
                <div class="flex-1 pr-2">
                    <div id="dday-badge" class="inline-flex items-center gap-1 bg-orange-500 text-white text-[11px] font-bold px-2 py-1 rounded-full mb-3 shadow-md">
                        <i data-lucide="clock" class="w-3 h-3"></i> <span>D-DAY 계산 중</span>
                    </div>
                    <h1 class="text-2xl md:text-3xl font-black leading-tight tracking-tight">
                        오키나와<br>
                        <span class="text-sky-400">가족여행</span> <span class="text-orange-400">2026</span>
                    </h1>
                </div>
                <!-- 날씨 위젯 -->
                <a href="https://tenki.jp/forecast/10/50/9110/47201/" target="_blank" class="flex-none bg-white/10 backdrop-blur-sm rounded-xl p-2 border border-white/10 w-[180px] shadow-lg hover:bg-white/20 transition-colors cursor-pointer block text-decoration-none">
                    <div class="flex justify-between items-center mb-2 pb-2 border-b border-white/10">
                        <div class="flex flex-col">
                            <span class="text-[10px] text-sky-300 font-bold mb-0.5 flex items-center gap-1">오키나와(나하) <i data-lucide="external-link" class="w-2 h-2"></i></span>
                            <span id="current-temp" class="text-3xl font-black text-white leading-none tracking-tighter">--°</span>
                        </div>
                        <div class="text-right flex flex-col items-end">
                            <i data-lucide="cloud" class="w-6 h-6 text-yellow-400 mb-0.5" id="weather-icon-main"></i>
                            <div class="text-[10px] text-slate-200 font-medium bg-white/10 px-1.5 py-0.5 rounded">
                                <span id="today-range">--° / --°</span>
                            </div>
                        </div>
                    </div>
                    <div class="grid grid-cols-4 gap-1 text-center" id="forecast-grid">
                        <div class="text-[10px] text-slate-400 col-span-4 py-1">예보 로딩...</div>
                    </div>
                </a>
            </div>
            
            <div class="grid grid-cols-2 gap-3 w-full">
                <div class="bg-slate-800/80 backdrop-blur px-4 py-3 rounded-xl border border-slate-700 flex flex-col items-start">
                    <div class="flex items-center gap-1.5 text-slate-400 mb-1">
                        <i data-lucide="plane-takeoff" class="w-3.5 h-3.5"></i>
                        <span class="text-[11px] font-medium">출국 (KE2147)</span>
                    </div>
                    <div class="flex flex-col">
                        <span class="font-medium text-slate-300 text-xs">2026/04/02</span>
                        <span class="font-black text-yellow-400 text-xl tracking-tight">09:10</span>
                    </div>
                </div>
                <div class="bg-slate-800/80 backdrop-blur px-4 py-3 rounded-xl border border-slate-700 flex flex-col items-start">
                    <div class="flex items-center gap-1.5 text-slate-400 mb-1">
                        <i data-lucide="plane-landing" class="w-3.5 h-3.5"></i>
                        <span class="text-[11px] font-medium">귀국 (OZ0171)</span>
                    </div>
                    <div class="flex flex-col">
                        <span class="font-medium text-slate-300 text-xs">2026/04/05</span>
                        <span class="font-black text-yellow-400 text-xl tracking-tight">18:00</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="absolute -right-4 -bottom-16 w-48 h-48 bg-orange-500 rounded-full opacity-20 blur-3xl"></div>
        <div class="absolute -left-4 -top-10 w-40 h-40 bg-sky-500 rounded-full opacity-10 blur-3xl"></div>
    </header>

    <!-- 메인 네비게이션 -->
    <nav class="sticky top-0 z-50 bg-white/95 backdrop-blur border-b border-slate-200 shadow-sm">
        <div class="max-w-4xl mx-auto">
            <div class="flex overflow-x-auto no-scrollbar py-0 px-2 space-x-1">
                <!-- 내부 탭: 일정표 -->
                <button onclick="switchTab('schedule')" id="nav-schedule" class="nav-btn active flex items-center gap-1.5 flex-none py-3 px-3 text-sm font-bold border-b-2 transition-all">
                    <i data-lucide="calendar-days" class="w-4 h-4"></i> 일정표
                </button>
                <!-- 내부 탭: 맵코드 -->
                <button onclick="switchTab('mapcodes')" id="nav-mapcodes" class="nav-btn text-slate-500 border-transparent flex items-center gap-1.5 flex-none py-3 px-3 text-sm font-bold border-b-2 transition-all">
                    <i data-lucide="map-pin" class="w-4 h-4"></i> 맵코드
                </button>
                
                <!-- 외부 링크 -->
                <a href="place.html" class="nav-btn text-slate-500 border-transparent flex items-center gap-1.5 flex-none py-3 px-3 text-sm font-bold border-b-2 transition-all hover:bg-slate-50">
                    <i data-lucide="palmtree" class="w-4 h-4"></i> 관광지
                </a>
                <a href="dining.html" class="nav-btn text-slate-500 border-transparent flex items-center gap-1.5 flex-none py-3 px-3 text-sm font-bold border-b-2 transition-all hover:bg-slate-50">
                    <i data-lucide="utensils" class="w-4 h-4"></i> 맛집
                </a>
                <a href="shopping.html" class="nav-btn text-slate-500 border-transparent flex items-center gap-1.5 flex-none py-3 px-3 text-sm font-bold border-b-2 transition-all hover:bg-slate-50">
                    <i data-lucide="shopping-bag" class="w-4 h-4"></i> 쇼핑
                </a>

                <!-- 내부 탭 -->
                <button onclick="switchTab('rules')" id="nav-rules" class="nav-btn text-slate-500 border-transparent flex items-center gap-1.5 flex-none py-3 px-3 text-sm font-bold border-b-2 transition-all">
                    <i data-lucide="scroll" class="w-4 h-4"></i> 십계명
                </button>
                <button onclick="switchTab('accommodation')" id="nav-accommodation" class="nav-btn text-slate-500 border-transparent flex items-center gap-1.5 flex-none py-3 px-3 text-sm font-bold border-b-2 transition-all">
                    <i data-lucide="hotel" class="w-4 h-4"></i> 숙소
                </button>
                <button onclick="switchTab('rental-car')" id="nav-rental-car" class="nav-btn text-slate-500 border-transparent flex items-center gap-1.5 flex-none py-3 px-3 text-sm font-bold border-b-2 transition-all">
                    <i data-lucide="car" class="w-4 h-4"></i> 렌트카
                </button>
                <!-- 긴급연락처 (붉은색 강조 유지) -->
                <button onclick="switchTab('emergency')" id="nav-emergency" class="nav-btn text-red-600 border-transparent flex items-center gap-1.5 flex-none py-3 px-3 text-sm font-black border-b-2 transition-all hover:bg-red-50">
                    <i data-lucide="siren" class="w-4 h-4"></i> 긴급연락처
                </button>
            </div>
        </div>
    </nav>

    <main class="flex-grow max-w-4xl mx-auto w-full px-5 py-6 pb-32">

        <!-- 탭 1: 일정표 (유지) -->
        <div id="schedule" class="tab-content active">
            <div class="flex justify-between items-end mb-6">
                <div>
                    <h2 class="text-xl font-bold text-slate-800 flex items-center gap-2">상세 일정표</h2>
                    <p class="text-slate-500 text-xs mt-1">장소명을 누르면 구글맵이 열립니다.</p>
                </div>
                <span class="text-[10px] font-medium text-rose-500 bg-rose-50 px-2 py-1 rounded-full border border-rose-100">변경 가능</span>
            </div>

            <!-- 날짜 선택기 -->
            <div class="grid grid-cols-4 gap-2 mb-8">
                <button onclick="switchDay(1)" id="day-btn-1" class="day-btn bg-slate-800 text-white shadow-lg rounded-xl py-3 px-1 flex flex-col items-center transition-all transform hover:-translate-y-0.5">
                    <span class="text-sm font-bold mb-0.5">1일차</span>
                    <span class="text-[10px] opacity-80">4/2(목)</span>
                </button>
                <button onclick="switchDay(2)" id="day-btn-2" class="day-btn bg-white text-slate-500 border border-slate-200 rounded-xl py-3 px-1 flex flex-col items-center transition-all">
                    <span class="text-sm font-bold mb-0.5">2일차</span>
                    <span class="text-[10px] opacity-80">4/3(금)</span>
                </button>
                <button onclick="switchDay(3)" id="day-btn-3" class="day-btn bg-white text-slate-500 border border-slate-200 rounded-xl py-3 px-1 flex flex-col items-center transition-all">
                    <span class="text-sm font-bold mb-0.5">3일차</span>
                    <span class="text-[10px] opacity-80">4/4(토)</span>
                </button>
                <button onclick="switchDay(4)" id="day-btn-4" class="day-btn bg-white text-slate-500 border border-slate-200 rounded-xl py-3 px-1 flex flex-col items-center transition-all">
                    <span class="text-sm font-bold mb-0.5">4일차</span>
                    <span class="text-[10px] opacity-80">4/5(일)</span>
                </button>
            </div>

            <!-- 1일차 콘텐츠 -->
            <div id="day-content-1" class="day-view space-y-0 relative">
                <div class="timeline-item relative pl-14 pb-8">
                    <div class="timeline-line"></div>
                    <div class="absolute left-0 top-0 w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center border-4 border-white shadow-sm z-10 text-slate-600">
                        <i data-lucide="flag" class="w-5 h-5"></i>
                    </div>
                    <div class="bg-white rounded-2xl p-5 shadow-sm border border-slate-100 clickable-card">
                        <span class="text-xs font-bold text-slate-500 bg-slate-100 px-2 py-1 rounded mb-2 inline-block">06:00</span>
                        <h3 class="font-bold text-lg text-slate-800 mb-1">
                            <a href="https://www.google.com/maps/search/?api=1&query=인천공항 제2여객터미널" target="_blank" class="flex items-center gap-1 hover:text-blue-600 transition-colors">
                                인천공항 집결 <i data-lucide="external-link" class="w-4 h-4 text-slate-400"></i>
                            </a>
                        </h3>
                        <p class="text-slate-500 text-sm leading-relaxed">제2여객터미널 3층 출국장 집결 및 대한항공 B,C 카운터 체크인입니다.</p>
                    </div>
                </div>
                <div class="timeline-item relative pl-14 pb-8"><div class="timeline-line"></div><div class="absolute left-0 top-0 w-12 h-12 bg-sky-100 rounded-full flex items-center justify-center border-4 border-white shadow-sm z-10 text-sky-600"><i data-lucide="plane" class="w-5 h-5"></i></div><div class="bg-white rounded-2xl p-5 shadow-sm border border-slate-100 clickable-card"><span class="text-xs font-bold text-sky-600 bg-sky-50 px-2 py-1 rounded mb-2 inline-block">09:10</span><h3 class="font-bold text-lg text-slate-800 mb-1"><a href="https://www.google.com/maps/search/?api=1&query=나하공항" target="_blank" class="flex items-center gap-1 hover:text-blue-600 transition-colors">인천 출발 & 오키나와 도착 <i data-lucide="external-link" class="w-4 h-4 text-slate-400"></i></a></h3><p class="text-slate-500 text-sm leading-relaxed">대한항공 KE2147 탑승합니다. 11:35 나하 공항 도착 예정입니다.</p></div></div>
                <div class="timeline-item relative pl-14 pb-8"><div class="timeline-line"></div><div class="absolute left-0 top-0 w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center border-4 border-white shadow-sm z-10 text-orange-600"><i data-lucide="car" class="w-5 h-5"></i></div><div class="bg-white rounded-2xl p-5 shadow-sm border border-slate-100 clickable-card"><span class="text-xs font-bold text-orange-600 bg-orange-50 px-2 py-1 rounded mb-2 inline-block">13:00</span><h3 class="font-bold text-lg text-slate-800 mb-1"><a href="https://www.google.com/maps/search/?api=1&query=ユニバースレンタカー那覇空港店 外車・輸入車専門" target="_blank" class="flex items-center gap-1 hover:text-blue-600 transition-colors">렌터카 인수 (유니버스) <i data-lucide="external-link" class="w-4 h-4 text-slate-400"></i></a></h3><p class="text-slate-500 text-sm leading-relaxed mb-3">셔틀이 없으므로 택시로 이동합니다. 카시트 2개 장착 여부를 꼭 확인하세요.</p><button class="w-full flex justify-between items-center bg-slate-50 hover:bg-slate-100 p-3 rounded-lg border border-slate-200 transition-colors" onclick="copyToClipboard('33 005 306*61')"><span class="text-xs font-mono text-slate-500">MC: 33 005 306*61</span><span class="text-xs font-bold text-blue-600 flex items-center gap-1"><i data-lucide="copy" class="w-3 h-3"></i> 복사</span></button></div></div>
                <div class="timeline-item relative pl-14 pb-8"><div class="timeline-line"></div><div class="absolute left-0 top-0 w-12 h-12 bg-rose-100 rounded-full flex items-center justify-center border-4 border-white shadow-sm z-10 text-rose-600"><i data-lucide="utensils" class="w-5 h-5"></i></div><div class="bg-white rounded-2xl p-5 shadow-sm border border-slate-100 clickable-card"><span class="text-xs font-bold text-rose-600 bg-rose-50 px-2 py-1 rounded mb-2 inline-block">13:30</span><h3 class="font-bold text-lg text-slate-800 mb-1"><a href="https://www.google.com/maps/search/?api=1&query=우미카지테라스" target="_blank" class="flex items-center gap-1 hover:text-blue-600 transition-colors">우미카지 테라스 <i data-lucide="external-link" class="w-4 h-4 text-slate-400"></i></a></h3><p class="text-slate-500 text-sm leading-relaxed mb-3">공항 근처의 하얀 건물들이 예쁜 곳입니다. 자유롭게 점심을 즐기고 사진을 찍으세요.</p><button class="w-full flex justify-between items-center bg-slate-50 hover:bg-slate-100 p-3 rounded-lg border border-slate-200 transition-colors" onclick="copyToClipboard('33 002 602*06')"><span class="text-xs font-mono text-slate-500">MC: 33 002 602*06</span><span class="text-xs font-bold text-blue-600 flex items-center gap-1"><i data-lucide="copy" class="w-3 h-3"></i> 복사</span></button></div></div>
                <div class="timeline-item relative pl-14 pb-8"><div class="timeline-line"></div><div class="absolute left-0 top-0 w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center border-4 border-white shadow-sm z-10 text-purple-600"><i data-lucide="bed-double" class="w-5 h-5"></i></div><div class="bg-white rounded-2xl p-5 shadow-sm border border-slate-100 clickable-card"><span class="text-xs font-bold text-purple-600 bg-purple-50 px-2 py-1 rounded mb-2 inline-block">15:30</span><h3 class="font-bold text-lg text-slate-800 mb-1"><a href="https://www.google.com/maps/search/?api=1&query=레쿠 오키나와 차탄 스파 리조트" target="_blank" class="flex items-center gap-1 hover:text-blue-600 transition-colors">레쿠 오키나와 체크인 <i data-lucide="external-link" class="w-4 h-4 text-slate-400"></i></a></h3><p class="text-slate-500 text-sm leading-relaxed mb-3">아메리칸 빌리지 내 호텔입니다.</p><button class="w-full flex justify-between items-center bg-slate-50 hover:bg-slate-100 p-3 rounded-lg border border-slate-200 transition-colors" onclick="copyToClipboard('33 525 594*3')"><span class="text-xs font-mono text-slate-500">MC: 33 525 594*3</span><span class="text-xs font-bold text-blue-600 flex items-center gap-1"><i data-lucide="copy" class="w-3 h-3"></i> 복사</span></button></div></div>
                <div class="timeline-item relative pl-14"><div class="timeline-line"></div><div class="absolute left-0 top-0 w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center border-4 border-white shadow-sm z-10 text-indigo-600"><i data-lucide="sunset" class="w-5 h-5"></i></div><div class="bg-white rounded-2xl p-5 shadow-sm border border-slate-100 clickable-card"><span class="text-xs font-bold text-indigo-600 bg-indigo-50 px-2 py-1 rounded mb-2 inline-block">17:00</span><h3 class="font-bold text-lg text-slate-800 mb-1"><a href="https://www.google.com/maps/search/?api=1&query=아메리칸빌리지 오키나와" target="_blank" class="flex items-center gap-1 hover:text-blue-600 transition-colors">아메리칸 빌리지 <i data-lucide="external-link" class="w-4 h-4 text-slate-400"></i></a></h3><p class="text-slate-500 text-sm leading-relaxed mb-3">숙소 체크인 후 아메리칸 빌리지에서 자유식입니다.</p><button class="w-full flex justify-between items-center bg-slate-50 hover:bg-slate-100 p-3 rounded-lg border border-slate-200 transition-colors" onclick="copyToClipboard('33 526 451*20')"><span class="text-xs font-mono text-slate-500">MC: 33 526 451*20</span><span class="text-xs font-bold text-blue-600 flex items-center gap-1"><i data-lucide="copy" class="w-3 h-3"></i> 복사</span></button></div></div>
            </div>

            <!-- 2일차 -->
            <div id="day-content-2" class="day-view hidden relative">
                <div class="bg-red-50 p-4 rounded-xl border border-red-100 mb-6 flex items-start gap-3"><i data-lucide="alert-circle" class="w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"></i><p class="text-red-700 text-sm font-medium">주의: 이동 거리가 긴 날입니다. 멀미약을 챙기세요.</p></div>
                <div class="timeline-item relative pl-14 pb-8"><div class="timeline-line"></div><div class="absolute left-0 top-0 w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center border-4 border-white shadow-sm z-10 text-slate-600"><i data-lucide="car-front" class="w-5 h-5"></i></div><div class="bg-white rounded-2xl p-5 shadow-sm border border-slate-100 clickable-card"><span class="text-xs font-bold text-slate-500 bg-slate-100 px-2 py-1 rounded mb-2 inline-block">09:00</span><h3 class="font-bold text-lg text-slate-800 mb-1">숙소 출발</h3><p class="text-slate-500 text-sm leading-relaxed">북부까지 이동 시간이 꽤 걸립니다. 조식 후 지체 없이 출발하는 것이 좋습니다.</p></div></div>
                <div class="timeline-item relative pl-14 pb-8"><div class="timeline-line"></div><div class="absolute left-0 top-0 w-12 h-12 bg-emerald-100 rounded-full flex items-center justify-center border-4 border-white shadow-sm z-10 text-emerald-600"><i data-lucide="mountain" class="w-5 h-5"></i></div><div class="bg-white rounded-2xl p-5 shadow-sm border border-slate-100 clickable-card"><span class="text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded mb-2 inline-block">10:00</span><h3 class="font-bold text-lg text-slate-800 mb-1"><a href="https://www.google.com/maps/search/?api=1&query=만좌모" target="_blank" class="flex items-center gap-1 hover:text-blue-600 transition-colors">만좌모 <i data-lucide="external-link" class="w-4 h-4 text-slate-400"></i></a></h3><p class="text-slate-500 text-sm leading-relaxed mb-3">바람이 강할 수 있으니 모자가 날아가지 않게 주의하세요.</p><button class="w-full flex justify-between items-center bg-slate-50 hover:bg-slate-100 p-3 rounded-lg border border-slate-200 transition-colors" onclick="copyToClipboard('206 312 097*55')"><span class="text-xs font-mono text-slate-500">MC: 206 312 097*55</span><span class="text-xs font-bold text-blue-600 flex items-center gap-1"><i data-lucide="copy" class="w-3 h-3"></i> 복사</span></button></div></div>
                <div class="timeline-item relative pl-14 pb-8"><div class="timeline-line"></div><div class="absolute left-0 top-0 w-12 h-12 bg-rose-100 rounded-full flex items-center justify-center border-4 border-white shadow-sm z-10 text-rose-600"><i data-lucide="utensils" class="w-5 h-5"></i></div><div class="bg-white rounded-2xl p-5 shadow-sm border border-slate-100 clickable-card"><span class="text-xs font-bold text-rose-600 bg-rose-50 px-2 py-1 rounded mb-2 inline-block">11:30</span><h3 class="font-bold text-lg text-slate-800 mb-1"><a href="https://www.google.com/maps/search/?api=1&query=우후야 오키나와" target="_blank" class="flex items-center gap-1 hover:text-blue-600 transition-colors">점심: 우후야 <i data-lucide="external-link" class="w-4 h-4 text-slate-400"></i></a></h3><p class="text-slate-500 text-sm leading-relaxed mb-3">예약 필수 맛집입니다. 고택의 분위기를 즐기며 아구돼지 요리를 맛보세요.</p><button class="w-full flex justify-between items-center bg-slate-50 hover:bg-slate-100 p-3 rounded-lg border border-slate-200 transition-colors" onclick="copyToClipboard('206 745 056*67')"><span class="text-xs font-mono text-slate-500">MC: 206 745 056*67</span><span class="text-xs font-bold text-blue-600 flex items-center gap-1"><i data-lucide="copy" class="w-3 h-3"></i> 복사</span></button></div></div>
                <div class="timeline-item relative pl-14 pb-8"><div class="timeline-line"></div><div class="absolute left-0 top-0 w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center border-4 border-white shadow-sm z-10 text-blue-600"><i data-lucide="fish" class="w-5 h-5"></i></div><div class="bg-white rounded-2xl p-5 shadow-sm border border-slate-100 clickable-card"><span class="text-xs font-bold text-blue-600 bg-blue-50 px-2 py-1 rounded mb-2 inline-block">13:30</span><h3 class="font-bold text-lg text-slate-800 mb-1"><a href="https://www.google.com/maps/search/?api=1&query=츄라우미수족관" target="_blank" class="flex items-center gap-1 hover:text-blue-600 transition-colors">츄라우미 수족관 <i data-lucide="external-link" class="w-4 h-4 text-slate-400"></i></a></h3><p class="text-slate-500 text-sm leading-relaxed mb-3">오키짱 돌고래 쇼 시간(13:00 / 15:00)을 미리 확인하세요.</p><button class="w-full flex justify-between items-center bg-slate-50 hover:bg-slate-100 p-3 rounded-lg border border-slate-200 transition-colors" onclick="copyToClipboard('553 075 797')"><span class="text-xs font-mono text-slate-500">MC: 553 075 797</span><span class="text-xs font-bold text-blue-600 flex items-center gap-1"><i data-lucide="copy" class="w-3 h-3"></i> 복사</span></button></div></div>
                <div class="timeline-item relative pl-14 pb-8"><div class="timeline-line"></div><div class="absolute left-0 top-0 w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center border-4 border-white shadow-sm z-10 text-yellow-600"><i data-lucide="ice-cream" class="w-5 h-5"></i></div><div class="bg-white rounded-2xl p-5 shadow-sm border border-slate-100 clickable-card"><span class="text-xs font-bold text-yellow-600 bg-yellow-50 px-2 py-1 rounded mb-2 inline-block">16:00</span><h3 class="font-bold text-lg text-slate-800 mb-1"><a href="https://www.google.com/maps/search/?api=1&query=쿄다휴게소" target="_blank" class="flex items-center gap-1 hover:text-blue-600 transition-colors">쿄다 휴게소 <i data-lucide="external-link" class="w-4 h-4 text-slate-400"></i></a></h3><p class="text-slate-500 text-sm leading-relaxed mb-3">옵빠 아이스크림과 갓 튀긴 튀김 간식이 유명합니다.</p><button class="w-full flex justify-between items-center bg-slate-50 hover:bg-slate-100 p-3 rounded-lg border border-slate-200 transition-colors" onclick="copyToClipboard('206 476 706*66')"><span class="text-xs font-mono text-slate-500">MC: 206 476 706*66</span><span class="text-xs font-bold text-blue-600 flex items-center gap-1"><i data-lucide="copy" class="w-3 h-3"></i> 복사</span></button></div></div>
                <div class="timeline-item relative pl-14"><div class="timeline-line"></div><div class="absolute left-0 top-0 w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center border-4 border-white shadow-sm z-10 text-purple-600"><i data-lucide="home" class="w-5 h-5"></i></div><div class="bg-white rounded-2xl p-5 shadow-sm border border-slate-100 clickable-card"><span class="text-xs font-bold text-purple-600 bg-purple-50 px-2 py-1 rounded mb-2 inline-block">17:30</span><h3 class="font-bold text-lg text-slate-800 mb-1"><a href="https://www.google.com/maps/search/?api=1&query=레쿠 오키나와 차탄 스파 리조트" target="_blank" class="flex items-center gap-1 hover:text-blue-600 transition-colors">숙소 복귀 <i data-lucide="external-link" class="w-4 h-4 text-slate-400"></i></a></h3><p class="text-slate-500 text-sm leading-relaxed mb-3">숙소 복귀 후 아메리칸 빌리지에서 자유식입니다.</p><button class="w-full flex justify-between items-center bg-slate-50 hover:bg-slate-100 p-3 rounded-lg border border-slate-200 transition-colors" onclick="copyToClipboard('33 525 594*3')"><span class="text-xs font-mono text-slate-500">MC: 33 525 594*3</span><span class="text-xs font-bold text-blue-600 flex items-center gap-1"><i data-lucide="copy" class="w-3 h-3"></i> 복사</span></button></div></div>
            </div>

            <!-- 3일차 -->
            <div id="day-content-3" class="day-view hidden relative">
                <div class="timeline-item relative pl-14 pb-8"><div class="timeline-line"></div><div class="absolute left-0 top-0 w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center border-4 border-white shadow-sm z-10 text-slate-600"><i data-lucide="car-front" class="w-5 h-5"></i></div><div class="bg-white rounded-2xl p-5 shadow-sm border border-slate-100 clickable-card"><span class="text-xs font-bold text-slate-500 bg-slate-100 px-2 py-1 rounded mb-2 inline-block">09:30</span><h3 class="font-bold text-lg text-slate-800 mb-1">숙소 출발</h3><p class="text-slate-500 text-sm leading-relaxed">오늘은 비교적 여유로운 일정입니다. 조식을 든든히 먹고 출발하세요.</p></div></div>
                <div class="timeline-item relative pl-14 pb-8"><div class="timeline-line"></div><div class="absolute left-0 top-0 w-12 h-12 bg-green-100 rounded-full flex items-center justify-center border-4 border-white shadow-sm z-10 text-green-600"><i data-lucide="trees" class="w-5 h-5"></i></div><div class="bg-white rounded-2xl p-5 shadow-sm border border-slate-100 clickable-card"><span class="text-xs font-bold text-green-600 bg-green-50 px-2 py-1 rounded mb-2 inline-block">10:00</span><h3 class="font-bold text-lg text-slate-800 mb-1"><a href="https://www.google.com/maps/search/?api=1&query=동남식물원 오키나와" target="_blank" class="flex items-center gap-1 hover:text-blue-600 transition-colors">동남식물원 <i data-lucide="external-link" class="w-4 h-4 text-slate-400"></i></a></h3><p class="text-slate-500 text-sm leading-relaxed mb-3">야외 활동이 많으니 자외선 차단제와 양산을 챙기세요.</p><button class="w-full flex justify-between items-center bg-slate-50 hover:bg-slate-100 p-3 rounded-lg border border-slate-200 transition-colors" onclick="copyToClipboard('33 742 510*74')"><span class="text-xs font-mono text-slate-500">MC: 33 742 510*74</span><span class="text-xs font-bold text-blue-600 flex items-center gap-1"><i data-lucide="copy" class="w-3 h-3"></i> 복사</span></button></div></div>
                <div class="timeline-item relative pl-14 pb-8"><div class="timeline-line"></div><div class="absolute left-0 top-0 w-12 h-12 bg-pink-100 rounded-full flex items-center justify-center border-4 border-white shadow-sm z-10 text-pink-600"><i data-lucide="shopping-bag" class="w-5 h-5"></i></div><div class="bg-white rounded-2xl p-5 shadow-sm border border-slate-100 clickable-card"><span class="text-xs font-bold text-pink-600 bg-pink-50 px-2 py-1 rounded mb-2 inline-block">12:30</span><h3 class="font-bold text-lg text-slate-800 mb-1"><a href="https://www.google.com/maps/search/?api=1&query=이온몰 오키나와 라이카무" target="_blank" class="flex items-center gap-1 hover:text-blue-600 transition-colors">이온몰 라이카무 <i data-lucide="external-link" class="w-4 h-4 text-slate-400"></i></a></h3><p class="text-slate-500 text-sm leading-relaxed mb-3">오키나와 최대 쇼핑몰입니다. 1층 수족관 앞에서 만나기로 약속 장소를 정하면 좋습니다.</p><button class="w-full flex justify-between items-center bg-slate-50 hover:bg-slate-100 p-3 rounded-lg border border-slate-200 transition-colors" onclick="copyToClipboard('33 530 230*74')"><span class="text-xs font-mono text-slate-500">MC: 33 530 230*74</span><span class="text-xs font-bold text-blue-600 flex items-center gap-1"><i data-lucide="copy" class="w-3 h-3"></i> 복사</span></button></div></div>
                <div class="timeline-item relative pl-14 pb-8"><div class="timeline-line"></div><div class="absolute left-0 top-0 w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center border-4 border-white shadow-sm z-10 text-yellow-600"><i data-lucide="sun" class="w-5 h-5"></i></div><div class="bg-white rounded-2xl p-5 shadow-sm border border-slate-100 clickable-card"><span class="text-xs font-bold text-yellow-600 bg-yellow-50 px-2 py-1 rounded mb-2 inline-block">15:30</span><h3 class="font-bold text-lg text-slate-800 mb-1"><a href="https://www.google.com/maps/search/?api=1&query=아라하비치" target="_blank" class="flex items-center gap-1 hover:text-blue-600 transition-colors">아라하 비치 <i data-lucide="external-link" class="w-4 h-4 text-slate-400"></i></a></h3><p class="text-slate-500 text-sm leading-relaxed mb-3">해질 무렵 석양이 아름다운 곳입니다. 해적선 놀이터가 있습니다.</p><button class="w-full flex justify-between items-center bg-slate-50 hover:bg-slate-100 p-3 rounded-lg border border-slate-200 transition-colors" onclick="copyToClipboard('33 496 038*21')"><span class="text-xs font-mono text-slate-500">MC: 33 496 038*21</span><span class="text-xs font-bold text-blue-600 flex items-center gap-1"><i data-lucide="copy" class="w-3 h-3"></i> 복사</span></button></div></div>
                <div class="timeline-item relative pl-14 pb-8"><div class="timeline-line"></div><div class="absolute left-0 top-0 w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center border-4 border-white shadow-sm z-10 text-purple-600"><i data-lucide="bed-double" class="w-5 h-5"></i></div><div class="bg-white rounded-2xl p-5 shadow-sm border border-slate-100 clickable-card"><span class="text-xs font-bold text-purple-600 bg-purple-50 px-2 py-1 rounded mb-2 inline-block">17:30</span><h3 class="font-bold text-lg text-slate-800 mb-1"><a href="https://www.google.com/maps/search/?api=1&query=레쿠 오키나와 차탄 스파 리조트" target="_blank" class="flex items-center gap-1 hover:text-blue-600 transition-colors">숙소 복귀 <i data-lucide="external-link" class="w-4 h-4 text-slate-400"></i></a></h3><p class="text-slate-500 text-sm leading-relaxed mb-3">숙소에서 잠시 휴식 및 재정비를 합니다.</p><button class="w-full flex justify-between items-center bg-slate-50 hover:bg-slate-100 p-3 rounded-lg border border-slate-200 transition-colors" onclick="copyToClipboard('33 525 594*3')"><span class="text-xs font-mono text-slate-500">MC: 33 525 594*3</span><span class="text-xs font-bold text-blue-600 flex items-center gap-1"><i data-lucide="copy" class="w-3 h-3"></i> 복사</span></button></div></div>
                <div class="timeline-item relative pl-14"><div class="timeline-line"></div><div class="absolute left-0 top-0 w-12 h-12 bg-rose-100 rounded-full flex items-center justify-center border-4 border-white shadow-sm z-10 text-rose-600"><i data-lucide="beer" class="w-5 h-5"></i></div><div class="bg-white rounded-2xl p-5 shadow-sm border border-slate-100 clickable-card"><span class="text-xs font-bold text-rose-600 bg-rose-50 px-2 py-1 rounded mb-2 inline-block">18:30</span><h3 class="font-bold text-lg text-slate-800 mb-1"><a href="https://www.google.com/maps/search/?api=1&query=야키니쿠 유메마루 차탄" target="_blank" class="flex items-center gap-1 hover:text-blue-600 transition-colors">저녁: 야키니쿠 유메마루 <i data-lucide="external-link" class="w-4 h-4 text-slate-400"></i></a></h3><p class="text-slate-500 text-sm leading-relaxed mb-3">단체 예약이 필수입니다. 무한리필 이용 시간을 확인하세요.</p><button class="w-full flex justify-between items-center bg-slate-50 hover:bg-slate-100 p-3 rounded-lg border border-slate-200 transition-colors" onclick="copyToClipboard('33 526 452*52')"><span class="text-xs font-mono text-slate-500">MC: 33 526 452*52</span><span class="text-xs font-bold text-blue-600 flex items-center gap-1"><i data-lucide="copy" class="w-3 h-3"></i> 복사</span></button></div></div>
            </div>

            <!-- 4일차 -->
            <div id="day-content-4" class="day-view hidden relative">
                <div class="timeline-item relative pl-14 pb-8"><div class="timeline-line"></div><div class="absolute left-0 top-0 w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center border-4 border-white shadow-sm z-10 text-slate-600"><i data-lucide="log-out" class="w-5 h-5"></i></div><div class="bg-white rounded-2xl p-5 shadow-sm border border-slate-100 clickable-card"><span class="text-xs font-bold text-slate-500 bg-slate-100 px-2 py-1 rounded mb-2 inline-block">09:00</span><h3 class="font-bold text-lg text-slate-800 mb-1">체크아웃</h3></div></div>
                <div class="timeline-item relative pl-14 pb-8"><div class="timeline-line"></div><div class="absolute left-0 top-0 w-12 h-12 bg-rose-100 rounded-full flex items-center justify-center border-4 border-white shadow-sm z-10 text-rose-600"><i data-lucide="landmark" class="w-5 h-5"></i></div><div class="bg-white rounded-2xl p-5 shadow-sm border border-slate-100 clickable-card"><span class="text-xs font-bold text-rose-600 bg-rose-50 px-2 py-1 rounded mb-2 inline-block">10:00</span><h3 class="font-bold text-lg text-slate-800 mb-1"><a href="https://www.google.com/maps/search/?api=1&query=오키나와월드" target="_blank" class="flex items-center gap-1 hover:text-blue-600 transition-colors">오키나와 월드 <i data-lucide="external-link" class="w-4 h-4 text-slate-400"></i></a></h3><p class="text-slate-500 text-sm leading-relaxed mb-3">동굴 내부는 습하고 미끄러울 수 있으니 편안한 신발을 신으세요.</p><button class="w-full flex justify-between items-center bg-slate-50 hover:bg-slate-100 p-3 rounded-lg border border-slate-200 transition-colors" onclick="copyToClipboard('232 495 330*83')"><span class="text-xs font-mono text-slate-500">MC: 232 495 330*83</span><span class="text-xs font-bold text-blue-600 flex items-center gap-1"><i data-lucide="copy" class="w-3 h-3"></i> 복사</span></button></div></div>
                <div class="timeline-item relative pl-14 pb-8"><div class="timeline-line"></div><div class="absolute left-0 top-0 w-12 h-12 bg-pink-100 rounded-full flex items-center justify-center border-4 border-white shadow-sm z-10 text-pink-600"><i data-lucide="utensils" class="w-5 h-5"></i></div><div class="bg-white rounded-2xl p-5 shadow-sm border border-slate-100 clickable-card"><span class="text-xs font-bold text-pink-600 bg-pink-50 px-2 py-1 rounded mb-2 inline-block">13:30</span><h3 class="font-bold text-lg text-slate-800 mb-1"><a href="https://www.google.com/maps/search/?api=1&query=이아스 오키나와 토요사키" target="_blank" class="flex items-center gap-1 hover:text-blue-600 transition-colors">점심: 이아스 오키나와 <i data-lucide="external-link" class="w-4 h-4 text-slate-400"></i></a></h3><p class="text-slate-500 text-sm leading-relaxed mb-3">공항 근처라 마지막 쇼핑과 식사를 해결하기 좋습니다.</p><button class="w-full flex justify-between items-center bg-slate-50 hover:bg-slate-100 p-3 rounded-lg border border-slate-200 transition-colors" onclick="copyToClipboard('232 543 400*25')"><span class="text-xs font-mono text-slate-500">MC: 232 543 400*25</span><span class="text-xs font-bold text-blue-600 flex items-center gap-1"><i data-lucide="copy" class="w-3 h-3"></i> 복사</span></button></div></div>
                <div class="timeline-item relative pl-14 pb-8"><div class="timeline-line"></div><div class="absolute left-0 top-0 w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center border-4 border-white shadow-sm z-10 text-orange-600"><i data-lucide="car" class="w-5 h-5"></i></div><div class="bg-white rounded-2xl p-5 shadow-sm border border-slate-100 clickable-card"><span class="text-xs font-bold text-orange-600 bg-orange-50 px-2 py-1 rounded mb-2 inline-block">15:00</span><h3 class="font-bold text-lg text-slate-800 mb-1"><a href="https://www.google.com/maps/search/?api=1&query=ユニバースレンタカー那覇空港店 外車・輸入車専門" target="_blank" class="flex items-center gap-1 hover:text-blue-600 transition-colors">렌터카 반납 <i data-lucide="external-link" class="w-4 h-4 text-slate-400"></i></a></h3><p class="text-slate-500 text-sm leading-relaxed mb-3">반납 전 주유 필요 X. 렌터카 사무실에서 공항 택시 이동을 준비하세요.</p><button class="w-full flex justify-between items-center bg-slate-50 hover:bg-slate-100 p-3 rounded-lg border border-slate-200 transition-colors" onclick="copyToClipboard('33 005 306*61')"><span class="text-xs font-mono text-slate-500">MC: 33 005 306*61</span><span class="text-xs font-bold text-blue-600 flex items-center gap-1"><i data-lucide="copy" class="w-3 h-3"></i> 복사</span></button></div></div>
                <div class="timeline-item relative pl-14"><div class="timeline-line"></div><div class="absolute left-0 top-0 w-12 h-12 bg-sky-100 rounded-full flex items-center justify-center border-4 border-white shadow-sm z-10 text-sky-600"><i data-lucide="plane-takeoff" class="w-5 h-5"></i></div><div class="bg-white rounded-2xl p-5 shadow-sm border border-slate-100 clickable-card"><span class="text-xs font-bold text-sky-600 bg-sky-50 px-2 py-1 rounded mb-2 inline-block">15:30</span><h3 class="font-bold text-lg text-slate-800 mb-1"><a href="https://www.google.com/maps/search/?api=1&query=나하공항" target="_blank" class="flex items-center gap-1 hover:text-blue-600 transition-colors">나하공항 출국 <i data-lucide="external-link" class="w-4 h-4 text-slate-400"></i></a></h3><p class="text-slate-500 text-sm leading-relaxed">국제선 터미널로 이동하여 수속을 밟습니다.</p></div></div>
            </div>
        </div>

        <!-- 탭 2: 맵코드 (유지) -->
        <div id="mapcodes" class="tab-content">
            <div class="sticky top-[110px] bg-[#F8FAFC] pt-1 pb-4 z-40">
                <div class="relative">
                    <i data-lucide="search" class="absolute left-3 top-3 w-5 h-5 text-slate-400"></i>
                    <input type="text" id="mapcode-search" placeholder="장소명 검색..." class="w-full bg-white border border-slate-200 rounded-xl py-3 pl-10 pr-4 text-sm focus:outline-none focus:border-orange-500 shadow-sm">
                </div>
            </div>
            
            <div class="grid grid-cols-1 gap-3" id="mapcode-list">
                <div class="bg-white rounded-xl p-4 shadow-sm border border-slate-200 flex justify-between items-center" data-name="유니버스 렌터카">
                    <div><h3 class="font-bold text-slate-800"><a href="https://www.google.com/maps/search/?api=1&query=ユニバースレンタカー那覇空港店 外車・輸入車専門" target="_blank" class="flex items-center gap-1 hover:text-blue-600">유니버스 렌터카 <i data-lucide="map-pin" class="w-3 h-3 text-slate-400"></i></a></h3><p class="text-xs text-slate-500 mt-0.5">렌터카</p></div>
                    <button class="mapcode-btn px-3 py-2 rounded-lg text-sm font-bold flex items-center gap-1.5" onclick="copyToClipboard('33 005 306*61')">33 005 306*61 <i data-lucide="copy" class="w-3.5 h-3.5"></i></button>
                </div>
                <!-- ... 나머지 맵코드 리스트 (기존과 동일) ... -->
                <div class="bg-white rounded-xl p-4 shadow-sm border border-slate-200 flex justify-between items-center" data-name="우미카지 테라스"><div><h3 class="font-bold text-slate-800"><a href="https://www.google.com/maps/search/?api=1&query=우미카지테라스" target="_blank" class="flex items-center gap-1 hover:text-blue-600">우미카지 테라스 <i data-lucide="map-pin" class="w-3 h-3 text-slate-400"></i></a></h3><p class="text-xs text-slate-500 mt-0.5">쇼핑/맛집</p></div><button class="mapcode-btn px-3 py-2 rounded-lg text-sm font-bold flex items-center gap-1.5" onclick="copyToClipboard('33 002 602*06')">33 002 602*06 <i data-lucide="copy" class="w-3.5 h-3.5"></i></button></div>
                <div class="bg-white rounded-xl p-4 shadow-sm border border-slate-200 flex justify-between items-center" data-name="레쿠 오키나와"><div><h3 class="font-bold text-slate-800"><a href="https://www.google.com/maps/search/?api=1&query=레쿠 오키나와 차탄 스파 리조트" target="_blank" class="flex items-center gap-1 hover:text-blue-600">레쿠 오키나와 <i data-lucide="map-pin" class="w-3 h-3 text-slate-400"></i></a></h3><p class="text-xs text-slate-500 mt-0.5">숙소</p></div><button class="mapcode-btn px-3 py-2 rounded-lg text-sm font-bold flex items-center gap-1.5" onclick="copyToClipboard('33 525 594*3')">33 525 594*3 <i data-lucide="copy" class="w-3.5 h-3.5"></i></button></div>
                <div class="bg-white rounded-xl p-4 shadow-sm border border-slate-200 flex justify-between items-center" data-name="아메리칸 빌리지"><div><h3 class="font-bold text-slate-800"><a href="https://www.google.com/maps/search/?api=1&query=아메리칸빌리지 오키나와" target="_blank" class="flex items-center gap-1 hover:text-blue-600">아메리칸 빌리지 <i data-lucide="map-pin" class="w-3 h-3 text-slate-400"></i></a></h3><p class="text-xs text-slate-500 mt-0.5">중부 관광/쇼핑</p></div><button class="mapcode-btn px-3 py-2 rounded-lg text-sm font-bold flex items-center gap-1.5" onclick="copyToClipboard('33 526 451*20')">33 526 451*20 <i data-lucide="copy" class="w-3.5 h-3.5"></i></button></div>
                <div class="bg-white rounded-xl p-4 shadow-sm border border-slate-200 flex justify-between items-center" data-name="만좌모"><div><h3 class="font-bold text-slate-800"><a href="https://www.google.com/maps/search/?api=1&query=만좌모" target="_blank" class="flex items-center gap-1 hover:text-blue-600">만좌모 <i data-lucide="map-pin" class="w-3 h-3 text-slate-400"></i></a></h3><p class="text-xs text-slate-500 mt-0.5">중부 관광</p></div><button class="mapcode-btn px-3 py-2 rounded-lg text-sm font-bold flex items-center gap-1.5" onclick="copyToClipboard('206 312 097*55')">206 312 097*55 <i data-lucide="copy" class="w-3.5 h-3.5"></i></button></div>
                <div class="bg-white rounded-xl p-4 shadow-sm border border-slate-200 flex justify-between items-center" data-name="우후야"><div><h3 class="font-bold text-slate-800"><a href="https://www.google.com/maps/search/?api=1&query=우후야 오키나와" target="_blank" class="flex items-center gap-1 hover:text-blue-600">우후야 <i data-lucide="map-pin" class="w-3 h-3 text-slate-400"></i></a></h3><p class="text-xs text-slate-500 mt-0.5">북부 맛집</p></div><button class="mapcode-btn px-3 py-2 rounded-lg text-sm font-bold flex items-center gap-1.5" onclick="copyToClipboard('206 745 056*67')">206 745 056*67 <i data-lucide="copy" class="w-3.5 h-3.5"></i></button></div>
                <div class="bg-white rounded-xl p-4 shadow-sm border border-slate-200 flex justify-between items-center" data-name="츄라우미 수족관"><div><h3 class="font-bold text-slate-800"><a href="https://www.google.com/maps/search/?api=1&query=츄라우미수족관" target="_blank" class="flex items-center gap-1 hover:text-blue-600">츄라우미 수족관 <i data-lucide="map-pin" class="w-3 h-3 text-slate-400"></i></a></h3><p class="text-xs text-slate-500 mt-0.5">북부 관광</p></div><button class="mapcode-btn px-3 py-2 rounded-lg text-sm font-bold flex items-center gap-1.5" onclick="copyToClipboard('553 075 797')">553 075 797 <i data-lucide="copy" class="w-3.5 h-3.5"></i></button></div>
                <div class="bg-white rounded-xl p-4 shadow-sm border border-slate-200 flex justify-between items-center" data-name="쿄다 휴게소"><div><h3 class="font-bold text-slate-800"><a href="https://www.google.com/maps/search/?api=1&query=쿄다휴게소" target="_blank" class="flex items-center gap-1 hover:text-blue-600">쿄다 휴게소 <i data-lucide="map-pin" class="w-3 h-3 text-slate-400"></i></a></h3><p class="text-xs text-slate-500 mt-0.5">북부 맛집</p></div><button class="mapcode-btn px-3 py-2 rounded-lg text-sm font-bold flex items-center gap-1.5" onclick="copyToClipboard('206 476 706*66')">206 476 706*66 <i data-lucide="copy" class="w-3.5 h-3.5"></i></button></div>
                <div class="bg-white rounded-xl p-4 shadow-sm border border-slate-200 flex justify-between items-center" data-name="동남식물원"><div><h3 class="font-bold text-slate-800"><a href="https://www.google.com/maps/search/?api=1&query=동남식물원 오키나와" target="_blank" class="flex items-center gap-1 hover:text-blue-600">동남식물원 <i data-lucide="map-pin" class="w-3 h-3 text-slate-400"></i></a></h3><p class="text-xs text-slate-500 mt-0.5">중부 관광</p></div><button class="mapcode-btn px-3 py-2 rounded-lg text-sm font-bold flex items-center gap-1.5" onclick="copyToClipboard('33 742 510*74')">33 742 510*74 <i data-lucide="copy" class="w-3.5 h-3.5"></i></button></div>
                <div class="bg-white rounded-xl p-4 shadow-sm border border-slate-200 flex justify-between items-center" data-name="이온몰 라이카무"><div><h3 class="font-bold text-slate-800"><a href="https://www.google.com/maps/search/?api=1&query=이온몰 오키나와 라이카무" target="_blank" class="flex items-center gap-1 hover:text-blue-600">이온몰 라이카무 <i data-lucide="map-pin" class="w-3 h-3 text-slate-400"></i></a></h3><p class="text-xs text-slate-500 mt-0.5">대형 쇼핑몰</p></div><button class="mapcode-btn px-3 py-2 rounded-lg text-sm font-bold flex items-center gap-1.5" onclick="copyToClipboard('33 530 406*45')">33 530 406*45 <i data-lucide="copy" class="w-3.5 h-3.5"></i></button></div>
                <div class="bg-white rounded-xl p-4 shadow-sm border border-slate-200 flex justify-between items-center" data-name="아라하 비치"><div><h3 class="font-bold text-slate-800"><a href="https://www.google.com/maps/search/?api=1&query=아라하비치" target="_blank" class="flex items-center gap-1 hover:text-blue-600">아라하 비치 <i data-lucide="map-pin" class="w-3 h-3 text-slate-400"></i></a></h3><p class="text-xs text-slate-500 mt-0.5">중부 관광</p></div><button class="mapcode-btn px-3 py-2 rounded-lg text-sm font-bold flex items-center gap-1.5" onclick="copyToClipboard('33 496 038*21')">33 496 038*21 <i data-lucide="copy" class="w-3.5 h-3.5"></i></button></div>
                <div class="bg-white rounded-xl p-4 shadow-sm border border-slate-200 flex justify-between items-center" data-name="야키니쿠 유메마루"><div><h3 class="font-bold text-slate-800"><a href="https://www.google.com/maps/search/?api=1&query=야키니쿠 유메마루 차탄" target="_blank" class="flex items-center gap-1 hover:text-blue-600">야키니쿠 유메마루 <i data-lucide="map-pin" class="w-3 h-3 text-slate-400"></i></a></h3><p class="text-xs text-slate-500 mt-0.5">중부 맛집</p></div><button class="mapcode-btn px-3 py-2 rounded-lg text-sm font-bold flex items-center gap-1.5" onclick="copyToClipboard('33 526 452*52')">33 526 452*52 <i data-lucide="copy" class="w-3.5 h-3.5"></i></button></div>
                <div class="bg-white rounded-xl p-4 shadow-sm border border-slate-200 flex justify-between items-center" data-name="오키나와 월드"><div><h3 class="font-bold text-slate-800"><a href="https://www.google.com/maps/search/?api=1&query=오키나와월드" target="_blank" class="flex items-center gap-1 hover:text-blue-600">오키나와 월드 <i data-lucide="map-pin" class="w-3 h-3 text-slate-400"></i></a></h3><p class="text-xs text-slate-500 mt-0.5">남부 관광</p></div><button class="mapcode-btn px-3 py-2 rounded-lg text-sm font-bold flex items-center gap-1.5" onclick="copyToClipboard('232 495 330*83')">232 495 330*83 <i data-lucide="copy" class="w-3.5 h-3.5"></i></button></div>
                <div class="bg-white rounded-xl p-4 shadow-sm border border-slate-200 flex justify-between items-center" data-name="이아스 오키나와"><div><h3 class="font-bold text-slate-800"><a href="https://www.google.com/maps/search/?api=1&query=이아스 오키나와 토요사키" target="_blank" class="flex items-center gap-1 hover:text-blue-600">이아스 오키나와 <i data-lucide="map-pin" class="w-3 h-3 text-slate-400"></i></a></h3><p class="text-xs text-slate-500 mt-0.5">남부 쇼핑몰</p></div><button class="mapcode-btn px-3 py-2 rounded-lg text-sm font-bold flex items-center gap-1.5" onclick="copyToClipboard('232 543 400*25')">232 543 400*25 <i data-lucide="copy" class="w-3.5 h-3.5"></i></button></div>
            </div>
        </div>

        <!-- 탭 8: 렌트카 (유지) -->
        <div id="rental-car" class="tab-content">
            <h2 class="text-xl font-bold text-slate-800 mb-4 flex items-center gap-2"><i data-lucide="car" class="w-6 h-6 text-blue-500"></i> 렌터카 사고/문제 대처 가이드</h2>
            <div class="space-y-4">
                <div class="bg-red-50 p-5 rounded-xl border border-red-100 shadow-sm">
                    <h3 class="font-bold text-red-700 text-lg mb-3 flex items-center gap-2"><i data-lucide="phone-call" class="w-5 h-5"></i> 필수 긴급 연락처</h3>
                    <div class="grid grid-cols-2 gap-4"><div class="bg-white p-3 rounded-lg text-center shadow-sm"><span class="text-xs text-slate-500 block">경찰 (사고 신고)</span><span class="font-black text-2xl text-slate-800">110</span></div><div class="bg-white p-3 rounded-lg text-center shadow-sm"><span class="text-xs text-slate-500 block">구급 (부상자 발생)</span><span class="font-black text-2xl text-slate-800">119</span></div></div>
                    <div class="mt-3 bg-white p-3 rounded-lg flex justify-between items-center shadow-sm"><div><span class="text-xs text-slate-500 block">유니버스 렌터카</span><span class="font-bold text-slate-800">+81-98-858-5343</span></div><a href="tel:+81988585343" class="bg-blue-500 text-white px-3 py-1.5 rounded-lg text-xs font-bold">전화걸기</a></div>
                    <a href="https://www.google.com/maps/search/?api=1&query=ユニバースレンタカー那覇空港店 外車・輸入車専門" target="_blank" class="block w-full text-center text-xs bg-white text-slate-600 font-bold py-3 mt-3 rounded-lg hover:bg-slate-50 transition-colors border border-slate-200">렌터카 사무실 위치 구글맵 보기</a>
                </div>
                <div class="bg-white p-5 rounded-xl border border-slate-200 shadow-sm"><h3 class="font-bold text-slate-800 text-lg mb-4 flex items-center gap-2"><i data-lucide="alert-triangle" class="w-5 h-5 text-orange-500"></i> 사고 발생 시 대처 순서</h3><ol class="relative border-l border-slate-200 ml-2 space-y-6"><li class="ml-6"><span class="absolute -left-2.5 flex items-center justify-center w-5 h-5 bg-blue-100 rounded-full ring-4 ring-white"><span class="text-blue-600 font-bold text-xs">1</span></span><h4 class="font-bold text-slate-800">안전 확보 및 정차</h4><p class="text-sm text-slate-500 mt-1">즉시 운전을 멈추고 비상등을 켭니다. 2차 사고를 방지하기 위해 안전한 곳으로 이동하세요.</p></li><li class="ml-6"><span class="absolute -left-2.5 flex items-center justify-center w-5 h-5 bg-blue-100 rounded-full ring-4 ring-white"><span class="text-blue-600 font-bold text-xs">2</span></span><h4 class="font-bold text-slate-800">부상자 확인 및 구호</h4><p class="text-sm text-slate-500 mt-1">부상자가 있다면 즉시 119에 신고하고 구급 조치를 취합니다.</p></li><li class="ml-6"><span class="absolute -left-2.5 flex items-center justify-center w-5 h-5 bg-blue-100 rounded-full ring-4 ring-white"><span class="text-blue-600 font-bold text-xs">3</span></span><h4 class="font-bold text-slate-800">경찰 신고 (필수)</h4><p class="text-sm text-slate-500 mt-1">경미한 사고라도 반드시 110에 신고해야 보험 처리가 가능합니다. "사고 증명서"가 필요합니다.</p></li><li class="ml-6"><span class="absolute -left-2.5 flex items-center justify-center w-5 h-5 bg-blue-100 rounded-full ring-4 ring-white"><span class="text-blue-600 font-bold text-xs">4</span></span><h4 class="font-bold text-slate-800">렌터카 회사 연락</h4><p class="text-sm text-slate-500 mt-1">유니버스 렌터카에 사고 상황을 알리고 지시를 따릅니다. (상대방과 개인적인 합의 금지)</p></li></ol><div class="mt-5 bg-yellow-50 p-4 rounded-lg border border-yellow-200"><div class="flex items-start gap-3"><i data-lucide="alert-octagon" class="w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"></i><div><h4 class="font-bold text-yellow-800 text-sm">보험 적용 주의사항</h4><p class="text-xs text-yellow-700 mt-1 font-medium">상대가 없는 단독 사고의 경우에도 연락이 없으면 보험적용이 불가합니다. (작은 사고라도 당일 사고현장에서 경찰/렌트카/보험회사에 연락해주세요!!)</p></div></div></div></div>
                <div class="bg-slate-50 p-5 rounded-xl border border-slate-200"><h3 class="font-bold text-slate-800 mb-2 flex items-center gap-2"><i data-lucide="book-open" class="w-4 h-4 text-slate-500"></i> 알아두면 좋은 용어</h3><div class="space-y-3"><div><span class="font-bold text-sm text-blue-600">NOC (휴업 손해 부담금)</span><p class="text-xs text-slate-500 mt-0.5">사고나 고장으로 차량 수리가 필요할 때, 렌터카 회사가 영업을 하지 못해 발생하는 손실에 대한 보상금입니다. 보통 2만엔~5만엔 정도가 청구될 수 있습니다.</p></div></div></div>
                <div class="bg-white p-5 rounded-xl border border-slate-200 shadow-sm flex items-center gap-4"><i data-lucide="fuel" class="w-8 h-8 text-green-500"></i> <div><h4 class="font-bold text-slate-800">반납 시 주유 불필요</h4><p class="text-sm text-slate-500">만탄(가득 채움) 반납 불필요 옵션이 포함되어 있어, <span class="font-bold text-green-600">주유 없이 바로 반납</span>하시면 됩니다.</p></div></div>
            </div>
        </div>

        <!-- 탭 9: 긴급연락처 (유지) -->
        <div id="emergency" class="tab-content">
            <h2 class="text-xl font-bold text-slate-800 mb-4 flex items-center gap-2"><i data-lucide="siren" class="w-6 h-6 text-red-600"></i> 긴급 상황 및 영사관 안내</h2>
            <div class="space-y-6">
                <div class="bg-orange-50 p-4 rounded-xl border border-orange-100 flex gap-3 items-start"><i data-lucide="info" class="w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5"></i><p class="text-sm text-orange-800 font-medium leading-relaxed">오키나와에는 대한민국 영사관이 없습니다. 여권 분실이나 중대한 사건·사고 발생 시 <strong>후쿠오카 총영사관</strong>으로 연락해야 합니다.</p></div>
                <div class="bg-white p-5 rounded-xl border border-slate-200 shadow-sm">
                    <h3 class="font-bold text-slate-800 text-lg mb-4 flex items-center gap-2"><i data-lucide="building-2" class="w-5 h-5 text-indigo-600"></i> 주후쿠오카 대한민국 총영사관</h3>
                    <div class="space-y-4">
                        <div class="flex items-start gap-3 p-3 bg-slate-50 rounded-lg"><i data-lucide="map-pin" class="w-4 h-4 text-slate-500 mt-1"></i><div><span class="text-xs text-slate-500 block mb-1">주소</span><p class="text-sm font-bold text-slate-700">후쿠오카시 주오구 지교하마 1-1-3</p><p class="text-xs text-slate-400 mt-0.5">(1-1-3 Jigyohama, Chuo-ku, Fukuoka)</p><a href="https://www.google.com/maps/search/?api=1&query=주후쿠오카 대한민국 총영사관" target="_blank" class="text-xs text-blue-600 font-bold mt-1 inline-block">구글맵 보기</a></div></div>
                        <div class="flex items-start gap-3 p-3 bg-slate-50 rounded-lg"><i data-lucide="phone" class="w-4 h-4 text-slate-500 mt-1"></i><div class="w-full"><span class="text-xs text-slate-500 block mb-1">대표 전화 (평일 09:00~17:30)</span><div class="flex justify-between items-center"><span class="text-lg font-black text-slate-800">+81-92-771-0461</span><a href="tel:+81927710461" class="bg-indigo-50 text-indigo-600 px-3 py-1 rounded text-xs font-bold">전화걸기</a></div></div></div>
                        <div class="flex items-start gap-3 p-3 bg-red-50 rounded-lg border border-red-100"><i data-lucide="phone-call" class="w-4 h-4 text-red-500 mt-1"></i><div class="w-full"><span class="text-xs text-red-600 block mb-1 font-bold">긴급 연락처 (야간/휴일 사건사고)</span><div class="flex justify-between items-center"><span class="text-lg font-black text-red-700">+81-80-8588-2806</span><a href="tel:+818085882806" class="bg-white text-red-600 border border-red-200 px-3 py-1 rounded text-xs font-bold shadow-sm">전화걸기</a></div><p class="text-[10px] text-red-500 mt-1">* 여권 분실 등 긴급 행정 업무 시 이용</p></div></div>
                    </div>
                </div>
                <div class="bg-white p-5 rounded-xl border border-slate-200 shadow-sm"><h3 class="font-bold text-slate-800 text-lg mb-4 flex items-center gap-2"><i data-lucide="headset" class="w-5 h-5 text-blue-600"></i> 외교부 영사콜센터 (24시간)</h3><div class="p-3 bg-blue-50 rounded-lg border border-blue-100"><div class="flex justify-between items-center"><div><span class="text-xs text-blue-600 block mb-1 font-bold">서울 통역/상담 지원</span><span class="text-xl font-black text-blue-800">+82-2-3210-0404</span></div><a href="tel:+82232100404" class="bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-bold shadow-md hover:bg-blue-700 transition-colors">전화걸기</a></div><p class="text-xs text-blue-500 mt-2">* 통역 서비스가 필요한 경우 2번을 누르세요.<br>* 카카오톡 '외교부 영사콜센터' 채널로도 상담 가능합니다.</p></div></div>
                <div class="grid grid-cols-2 gap-4"><a href="tel:110" class="bg-slate-800 text-white p-4 rounded-xl text-center shadow-lg active:scale-95 transition-transform"><i data-lucide="shield-alert" class="w-6 h-6 mx-auto mb-2 text-yellow-400"></i><span class="text-xs opacity-70 block">경찰 (사고/범죄)</span><span class="text-2xl font-black">110</span></a><a href="tel:119" class="bg-red-600 text-white p-4 rounded-xl text-center shadow-lg active:scale-95 transition-transform"><i data-lucide="ambulance" class="w-6 h-6 mx-auto mb-2 text-white"></i><span class="text-xs opacity-80 block">구급/화재</span><span class="text-2xl font-black">119</span></a></div>
            </div>
        </div>

        <!-- 번역 앱 연결 섹션 (추가됨) -->
        <div class="mt-8 pt-6 border-t border-slate-200">
            <h3 class="font-bold text-slate-800 mb-3 flex items-center gap-2">
                <i data-lucide="languages" class="w-5 h-5 text-indigo-500"></i> 번역 앱 연결
            </h3>
            <div class="grid grid-cols-2 gap-3">
                <a href="intent://papago.naver.com/#Intent;scheme=https;package=com.naver.labs.translator;end" class="bg-[#2DB400] text-white py-3 px-4 rounded-xl font-bold text-center flex items-center justify-center gap-2 shadow-sm hover:opacity-90 transition-opacity">
                    <img src="https://papago.naver.com/favicon.ico" alt="Papago" class="w-5 h-5 rounded bg-white p-0.5"> Papago
                </a>
                <a href="intent://translate.google.com/#Intent;scheme=https;package=com.google.android.apps.translate;end" class="bg-[#4285F4] text-white py-3 px-4 rounded-xl font-bold text-center flex items-center justify-center gap-2 shadow-sm hover:opacity-90 transition-opacity">
                    <i data-lucide="globe" class="w-5 h-5"></i> Google
                </a>
            </div>
        </div>

        <!-- 하단: 택시 앱 호출 섹션 (공통) -->
        <div class="mt-8 pt-6 border-t border-slate-200 pb-10">
            <h3 class="font-bold text-slate-800 mb-3 flex items-center gap-2">
                <i data-lucide="car" class="w-5 h-5 text-yellow-500"></i> 택시 앱 호출
            </h3>
            <div class="grid grid-cols-2 gap-3">
                <button onclick="openKakaoT()" class="bg-[#FEE500] text-[#3c1e1e] py-3 px-4 rounded-xl font-bold text-center flex items-center justify-center gap-2 shadow-sm hover:opacity-90 transition-opacity">
                     Kakao T
                </button>
                <a href="https://m.uber.com/ul" target="_blank" class="bg-black text-white py-3 px-4 rounded-xl font-bold text-center flex items-center justify-center gap-2 shadow-sm hover:bg-slate-800 transition-colors">
                     Uber
                </a>
            </div>
            <p class="text-[12px] text-slate-500 mt-2 text-center leading-normal">
                * 앱이 설치되어 있어야 실행됩니다. (일본 내 Kakao T는 JapanTaxi(GO)와 연동되어 호출 가능)
            </p>
        </div>

    </main>

    <!-- Top 버튼 -->
    <button id="top-btn" onclick="scrollToTop()" class="text-slate-600 hover:text-slate-900 transition-colors">
        <i data-lucide="arrow-up" class="w-6 h-6"></i>
    </button>

    <!-- 토스트 알림 -->
    <div id="toast" class="fixed bottom-10 left-1/2 transform -translate-x-1/2 bg-slate-800 text-white px-5 py-3 rounded-full shadow-xl flex items-center gap-2 opacity-0 transition-opacity duration-300 pointer-events-none z-[100]">
        <i data-lucide="check-circle-2" class="w-5 h-5 text-green-400"></i>
        <span class="font-bold text-sm">맵코드가 복사되었습니다!</span>
    </div>

    <script>
        // 날씨 아이콘 매핑
        const weatherIconMap = {
            0: 'sun', 1: 'sun', 2: 'cloud-sun', 3: 'cloud',
            45: 'cloud-fog', 48: 'cloud-fog',
            51: 'cloud-drizzle', 53: 'cloud-drizzle', 55: 'cloud-drizzle',
            61: 'cloud-rain', 63: 'cloud-rain', 65: 'cloud-rain',
            80: 'cloud-rain', 81: 'cloud-rain', 82: 'cloud-rain',
            95: 'cloud-lightning', 96: 'cloud-lightning', 99: 'cloud-lightning'
        };

        // 날씨 API
        async function updateWeather() {
            try {
                const res = await fetch("https://api.open-meteo.com/v1/forecast?latitude=26.2124&longitude=127.6809&current_weather=true&daily=weathercode,temperature_2m_max,temperature_2m_min&timezone=Asia%2FTokyo&forecast_days=5");
                const data = await res.json();
                
                if (data && data.current_weather && data.daily) {
                    const currentTemp = Math.round(data.current_weather.temperature);
                    document.getElementById('current-temp').innerText = currentTemp + "°";
                    
                    const currentCode = data.current_weather.weathercode;
                    const mainIcon = weatherIconMap[currentCode] || 'cloud';
                    const iconEl = document.getElementById('weather-icon-main');
                    iconEl.setAttribute('data-lucide', mainIcon);

                    const todayMin = Math.round(data.daily.temperature_2m_min[0]);
                    const todayMax = Math.round(data.daily.temperature_2m_max[0]);
                    document.getElementById('today-range').innerText = `${todayMin}° / ${todayMax}°`;

                    const forecastGrid = document.getElementById('forecast-grid');
                    forecastGrid.innerHTML = ''; 

                    const days = ['일', '월', '화', '수', '목', '금', '토'];
                    const today = new Date();
                    
                    for (let i = 1; i < 5; i++) {
                        const date = new Date(today);
                        date.setDate(today.getDate() + i);
                        const dayName = days[date.getDay()];
                        
                        const code = data.daily.weathercode[i];
                        const icon = weatherIconMap[code] || 'cloud';
                        const min = Math.round(data.daily.temperature_2m_min[i]);
                        const max = Math.round(data.daily.temperature_2m_max[i]);

                        const cell = document.createElement('div');
                        cell.className = 'flex flex-col items-center justify-center p-1 bg-white/5 rounded hover:bg-white/10 transition-colors';
                        cell.innerHTML = `
                            <span class="text-[9px] text-slate-300 mb-0.5">${dayName}</span>
                            <i data-lucide="${icon}" class="w-3.5 h-3.5 text-slate-200 mb-0.5"></i>
                            <span class="text-[9px] font-bold text-white leading-tight">${max}°<br><span class="text-slate-400 font-normal">${min}°</span></span>
                        `;
                        forecastGrid.appendChild(cell);
                    }
                    lucide.createIcons();
                }
            } catch (e) {
                console.error("날씨 정보 로딩 실패", e);
                document.getElementById('forecast-grid').innerHTML = '<div class="text-[10px] text-red-300 col-span-4">정보 없음</div>';
            }
        }

        // 탭 전환 로직 (수정: 분리된 페이지는 a 태그로 이동하므로, 이 함수는 내부 탭만 처리)
        function switchTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
            const target = document.getElementById(tabId);
            if (target) target.classList.add('active');
            window.scrollTo({ top: 0, behavior: 'smooth' });

            document.querySelectorAll('.nav-btn').forEach(btn => {
                // a태그로 바뀐 요소들은 onclick 이벤트가 없으므로 스타일 영향 안 받음
                btn.classList.remove('active', 'text-orange-600', 'border-orange-500');
                // 긴급연락처 버튼 스타일 분기 처리
                if (btn.id === 'nav-emergency') {
                   // 긴급연락처는 기본 색상이 다르므로 별도 처리 필요하지만, 
                   // 여기서는 active 제거 시 기본 클래스로 돌아가도록 둠 (CSS 클래스 우선순위 활용)
                   // 다만 JS로 강제 제어하는 부분이 있어, 긴급연락처만 예외를 둡니다.
                } else {
                     if(!btn.tagName || btn.tagName === 'BUTTON' || btn.tagName === 'A') { 
                         btn.classList.add('text-slate-500', 'border-transparent');
                    }
                }
            });
            
            const activeBtn = document.getElementById('nav-' + tabId);
            if (activeBtn) {
                if (tabId === 'emergency') {
                    // 긴급연락처 탭 활성화 시 스타일 (붉은색 유지하면서 밑줄만 추가)
                    activeBtn.classList.add('active');
                } else {
                    activeBtn.classList.add('active', 'text-orange-600', 'border-orange-500');
                    activeBtn.classList.remove('text-slate-500', 'border-transparent');
                }
                activeBtn.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
            }
            setTimeout(() => lucide.createIcons(), 50);
        }

        function copyToClipboard(text) {
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(text).then(showToast);
            } else {
                const textArea = document.createElement("textarea");
                textArea.value = text;
                textArea.style.position = "fixed";
                textArea.style.left = "-9999px";
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                try {
                    document.execCommand('copy');
                    showToast();
                } catch (err) {
                    console.error('복사 실패', err);
                }
                document.body.removeChild(textArea);
            }
        }

        function showToast() {
            const toast = document.getElementById('toast');
            toast.classList.remove('opacity-0');
            setTimeout(() => toast.classList.add('opacity-0'), 2000);
        }

        function openKakaoT() {
            const userAgent = navigator.userAgent;
            const isAndroid = /android/i.test(userAgent);
            const isIOS = /iPad|iPhone|iPod/.test(userAgent);

            if (isAndroid) {
                setTimeout(function () { window.location = "https://play.google.com/store/apps/details?id=com.kakao.taxi"; }, 1500);
                window.location = "kakaot://";
            } else if (isIOS) {
                setTimeout(function () { window.location = "https://apps.apple.com/app/id981110422"; }, 1500);
                window.location = "kakaot://";
            } else {
                window.open("https://www.kakaocorp.com/service/KakaoT");
            }
        }

        // Top 버튼 로직
        window.onscroll = function() {scrollFunction()};

        function scrollFunction() {
            const topBtn = document.getElementById("top-btn");
            if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
                topBtn.classList.add("visible");
            } else {
                topBtn.classList.remove("visible");
            }
        }

        function scrollToTop() {
            window.scrollTo({top: 0, behavior: 'smooth'});
        }

        document.addEventListener('DOMContentLoaded', () => {
            const ddayTarget = new Date('2026-04-02T00:00:00');
            const today = new Date();
            const diff = Math.ceil((ddayTarget - today) / (1000 * 60 * 60 * 24));
            const badge = document.getElementById('dday-badge');
            badge.innerHTML = `<i data-lucide="clock" class="w-3 h-3"></i> <span>D-${diff > 0 ? diff : 'Day'}</span>`;

            updateWeather();
            lucide.createIcons();
        });
    </script>
</body>
</html>


